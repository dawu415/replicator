name: p-isolation-segment
label: PCF Isolation Segment
form_types:
- description: It's a form
  label: Some Form
  name: some_form
  property_inputs:
  - reference: .isolated_diego_cell.insecure_docker_registry_list
  - reference: .isolated_diego_cell.placement_tag
  - reference: .isolated_diego_cell.dns_servers
  - label: Some Collection
    reference: .isolated_ha_proxy.certs
    property_inputs:
    - reference: name
    - reference: cert
    - reference: key
- description: It's another form
  label: Some Other Form
  name: some_other_form
  property_inputs:
  - reference: .isolated_ha_proxy.trusted_domain_cidrs
  - reference: .isolated_router.static_ips
  - reference: .isolated_diego_cell.garden_network_pool
  - reference: .isolated_diego_cell.garden_network_mtu
  - label: Some Selector
    reference: .properties.some_selector
    selector_property_inputs:
    - label: It's a selector
      property_inputs:
      - reference: .properties.some_selector.some_choice.some_property
      - reference: .properties.some_selector.some_choice.some_other_property
      reference: .properties.some_selector.some_choice
    - reference: .properties.some_selector.some_other_choice
    - reference: .properties.some_selector.more_choice
  - reference: .isolated_diego_cell.executor_memory_capacity
  - reference: .isolated_diego_cell.executor_disk_capacity
  - reference: .isolated_diego_cell.silk_daemon_client_cert
  - reference: .isolated_diego_cell.network_policy_agent_cert
job_types:
- name: isolated_ha_proxy
  manifest: |
    ha_proxy:
      trusted_domain_cidrs: (( .isolated_ha_proxy.trusted_domain_cidrs.value ))
- name: isolated_router
  manifest: |
    router:
      isolation_segments: ['(( enable_isolated_routing.value ? .isolated_diego_cell.placement_tag.value : empty_list.value))']
- name: isolated_diego_cell
  manifest: |
    diego:
      rep:
        placement_tags: [ (( placement_tag.value )) ]
